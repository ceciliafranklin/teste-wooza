"use strict";app.component("planosItem",{templateUrl:"/app/views/directives/plano-item.html",controller:"planosItemsCtrlr",controllerAs:"Ctrl",bindings:{plano:"=",botao:"="}}),app.component("plataformasItem",{templateUrl:"/app/views/directives/plataforma-item.html",controller:"plataformasItemsCtrlr",controllerAs:"Ctrl",bindings:{plataforma:"=",botao:"="}}),app.controller("dadosPessoaisCtrlr",["$scope","$location","planoService","plataformaService",function(a,o,e,r){a.planoSelecionado=e.planoSelecionado(),a.nome="",a.email="",a.cpf="",a.dt_birth="",a.telefone="",a.visualizacao="form",a.exibir=!1,a.plataformaSelecionada=r.plataformaSelecionada(),void 0!=a.plataformaSelecionada.sku&&void 0!=a.planoSelecionado.sku||o.path("/"),a.ExibirPlano=function(){a.exibir=!a.exibir},a.enviarDados=function(){console.log("%c Nome: "+a.nome,"background: #222; color: #bada55; font-size: 18px"),console.log("%c Email: "+a.email,"background: #222; color: #bada55; font-size: 18px"),console.log("%c CPF: "+a.cpf,"background: #222; color: #bada55; font-size: 18px"),console.log("%c Telefone: "+a.telefone,"background: #222; color: #bada55; font-size: 18px"),console.log("%c Data de Nascimento: "+a.dt_birth,"background: #222; color: #bada55; font-size: 18px"),console.log("%c Plano: "+a.planoSelecionado.sku,"background: #222; color: #bada55; font-size: 18px"),a.visualizacao="feedback"}}]),app.controller("planosItemsCtrlr",["$scope","$location","$routeParams","planoService","plataformaService",function(a,o,e,r,n){a.plataformaSelecionada=n.plataformaSelecionada(),this.comprar=function(a){r.selecionarPlano(a),o.path("/dadosPessoais")}}]),app.controller("planosCtrlr",["$scope","$location","$routeParams","planoService","plataformaService",function(a,o,e,r,n){a.Planos={},a.plataformaSelecionada=n.plataformaSelecionada(),a.sku=e.sku,a.parcelas=1,a.PlanoSelecionado={},a.loading=!0,console.log(),void 0!=a.plataformaSelecionada.sku?r.all(a.sku).then(function(o){a.Planos=o.data.planos}).catch(function(){alert("Ocorreu um erro ao processar sua solicitação.")}).finally(function(){a.loading=!1}):o.path("/")}]),app.controller("plataformasItemsCtrlr",["$scope","$location","plataformaService",function(a,o,e){this.selecionarPlataforma=function(a){e.selecionarPlataforma(a),o.path("/planos/"+a.sku)}}]),app.controller("plataformasCtrlr",["$scope","plataformaService",function(a,o){a.Plataformas={},a.loading=!0,o.all().then(function(o){a.Plataformas=o.data.plataformas}).catch(function(){alert("Ocorreu um erro ao efetuar a operação.")}).finally(function(){a.loading=!1})}]),app.filter("range",function(){return function(a,o,e){o=parseInt(o),e=parseInt(e);for(var r=o;r<e;r++)a.push(r);return a}}),app.filter("replacePipe",function(){return function(a){return a?a.replace(/\|/g,"<br />"):a}}),app.factory("dataService",["$rootScope","$http",function(a,o){var e={};return e.getData=function(a){return o.get(a)},e}]),app.service("planoService",["dataService",function(a){var o={},e={};return o.selecionarPlano=function(a){e=a},o.planoSelecionado=function(){return e},o.all=function(o){return a.getData("http://private-59658d-celulardireto2017.apiary-mock.com/planos/"+o)},o}]),app.service("plataformaService",["dataService",function(a){var o={},e={};return o.selecionarPlataforma=function(a){e=a},o.plataformaSelecionada=function(){return e},o.all=function(){return a.getData("http://private-59658d-celulardireto2017.apiary-mock.com/plataformas")},o}]);